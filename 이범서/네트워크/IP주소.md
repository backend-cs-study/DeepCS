# IP 주소 정리 (백엔드 면접 스터디용)

## 1. ARP (Address Resolution Protocol)
- IP 주소 → MAC 주소 변환
- 브로드캐스트로 요청 → 유니캐스트로 응답
- ARP 캐시 활용
- 반대 개념: RARP (MAC → IP, 과거 사용)

## 2. 홉바이홉(Hop-by-Hop) 통신
- 패킷이 여러 라우터를 거쳐 목적지 도달
- 라우팅 테이블: 목적지 IP에 따른 경로 정보
- 게이트웨이: 서로 다른 네트워크 연결

## 3. IP 주소 체계
| 구분    | IPv4           | IPv6                           |
|--------|----------------|--------------------------------|
| 길이   | 32비트         | 128비트                        |
| 표기법 | 192.168.0.1    | 2001:0db8:85a3::8a2e:0370:7334 |
| 보안   | 별도 설정 필요 | IPSec 기본 내장                |

## 4. 클래스 할당 방식과 한계
- 클래스 A~C: 고정 블록으로 비효율적
- 해결:
    - DHCP: 동적 IP 할당
    - NAT: 공인 IP 절약
    - IPv6: 주소 고갈 문제 해결

---

## 📘 추가 학습 정리

### 1. AWS VPC 구성 시 CIDR 및 NAT Gateway 이해

- **CIDR (Classless Inter-Domain Routing)**: IP 주소와 서브넷 마스크를 결합하여 네트워크를 효율적으로 분할하는 방법입니다. 예: `10.0.0.0/16`.

- **NAT Gateway**: 프라이빗 서브넷의 인스턴스가 인터넷에 접근할 수 있도록 하면서도 외부에서의 직접 접근은 차단하는 서비스입니다. 퍼블릭 NAT Gateway는 인터넷 게이트웨이를 통해 외부와 통신하며, 프라이빗 NAT Gateway는 온프레미스 네트워크나 다른 VPC와의 통신에 사용됩니다.

---

### 2. 서버 로그 분석 시 IP 기반 필터링

- **로그 분석의 중요성**: 서버 로그를 분석하여 보안 위협을 탐지하고 시스템 성능을 모니터링할 수 있습니다.

- **IP 기반 필터링**: 특정 IP 주소의 접근 횟수나 패턴을 분석하여 비정상적인 활동을 식별할 수 있습니다. 예: 관리자 로그인 시도나 특정 URL에 대한 반복적인 접근.

---

### 3. 로드 밸런서에서 클라이언트 IP 추적

- **문제점**: 로드 밸런서를 통해 들어오는 요청은 서버에서 클라이언트의 실제 IP를 확인하기 어려울 수 있습니다.

- **해결 방법**: `X-Forwarded-For` 헤더를 활용하여 클라이언트의 원래 IP 주소를 추적할 수 있습니다. 서버나 애플리케이션에서 이 헤더를 읽어 실제 클라이언트 IP를 로그에 기록하거나 접근 제어에 활용할 수 있습니다.

---

### 4. 내부망에서 외부망 통신 시 NAT 및 라우팅 테이블 고려

- **NAT (Network Address Translation)**: 내부 사설 IP 주소를 공인 IP 주소로 변환하여 외부와 통신할 수 있도록 하는 기술입니다. 이를 통해 IP 주소의 효율적인 사용과 보안 강화가 가능합니다.

- **라우팅 테이블**: 네트워크 트래픽이 올바른 경로로 전달되도록 하는 설정입니다. 내부망에서 외부망으로의 트래픽을 NAT Gateway나 인터넷 게이트웨이로 라우팅하기 위해 적절한 라우팅 테이블 구성이 필요합니다.


---

## 면접 예상 질문 및 모범 답변

### 1. ARP가 무엇이며 어떻게 동작하나요?
> ARP는 IP 주소를 MAC 주소로 변환하는 프로토콜입니다. 브로드캐스트로 요청하고, 응답은 유니캐스트로 받습니다.

### 2. 홉바이홉 통신과 라우팅 테이블의 역할은?
> 홉바이홉 통신은 패킷이 라우터를 거쳐 이동하는 과정입니다. 라우팅 테이블은 다음 목적지를 결정하는 기준이 됩니다.

### 3. NAT의 장단점은?
> 장점은 공인 IP 절약, 보안 향상이고, 단점은 성능 저하와 포트 설정 복잡성입니다.

### 4. DHCP의 DORA 과정이란?
> Discover → Offer → Request → Acknowledge 순으로 IP가 자동 할당됩니다.

