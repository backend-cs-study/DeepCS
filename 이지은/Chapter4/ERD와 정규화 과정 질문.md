## ERD와 정규화 과정 관련 신입 백엔드 면접 예상 질문

#### 💬 ERD(Entity Relationship Diagram)란 무엇이며, 데이터베이스 설계에서 왜 중요한가요?

<details>
<summary>✅ 모범 답안</summary>

* ERD는 데이터베이스의 구조를 시각적으로 표현하는 도구로, 엔티티(Entity), 속성(Attribute), 관계(Relationship)를 도식화합니다.  
* **중요성**:
    1. 시스템 요구사항을 기반으로 데이터베이스의 뼈대를 설계하는 기초 역할
    2. 엔티티 간 관계를 명확히 해 데이터 무결성 보장
    3. 개발자/설계자 간 소통 효율화 및 유지보수 용이성 향상  
* **단점**: 비정형 데이터(이미지, 동영상 등) 표현에 한계가 있습니다.
</details>


#### 💬 정규화(Normalization)의 목적과 주요 이상 현상(Anomaly) 3가지를 설명해주세요.
*
  <details>
  <summary>✅ 모범 답안</summary>

  **목적**:
    - 데이터 중복 감소
    - 무결성 보장
    - 저장 공간 효율화  

  **이상 현상**:
  1. **삽입 이상**: 불필요한 데이터를 함께 삽입해야 하는 문제 (예: NULL 강제)
  2. **갱신 이상**: 중복 데이터 일부만 수정 시 불일치 발생
  3. **삭제 이상**: 관련 데이터가 함께 삭제되는 문제 (예: 회원 탈퇴 시 주문 기록 삭제)
  </details>


#### 💬 제1정규형(1NF)부터 보이스/코드 정규형(BCNF)까지의 핵심 조건을 비교해주세요.

  <details>
  <summary>✅ 모범 답안</summary>

| **정규형** | **조건**                  | **해결 문제**         |  
    |------------|---------------------------|----------------------|  
| **1NF**    | 모든 속성의 원자성 보장    | 반복 집합 제거        |  
| **2NF**    | 부분 함수 종속성 제거      | 부분적 종속 문제      |  
| **3NF**    | 이행적 함수 종속 제거      | 간접 종속 문제        |  
| **BCNF**   | 모든 결정자가 후보키       | 후보키 아닌 결정자 문제 |  

**예시**:
- 1NF: `주문` 테이블에서 여러 상품ID를 쉼표로 저장 ❌ → 별도 테이블 분리
- BCNF: `수강` 테이블에서 (학생, 교수)가 과목을 결정하나 교수가 과목을 결정하는 경우 ❌ → 분리 필요
  </details>



#### 💬 정규화의 장단점과 실무에서의 적용 기준은 무엇인가요?

  <details>
  <summary>✅ 모범 답안</summary>

**장점**:
- 데이터 일관성 ↑, 중복 ↓, 저장 공간 효율화  

**단점**:
- 지나친 정규화 → JOIN 증가 → 쿼리 복잡도/실행 시간 ↑  
      
**적용 기준**:
1. **OLTP 시스템**: 높은 정규화 (데이터 정확성 우선)
2. **OLAP 시스템**: 저정규화 (조회 성능 우선)  

**예시**:
- 은행 거래 시스템은 3NF 이상 적용, 데이터 웨어하우스는 의도적 비정규화
  </details>

---

#### 💬 Spring Data JPA에서 정규화된 데이터베이스를 어떻게 효율적으로 활용하나요?
*
  <details>
  <summary>✅ 모범 답안</summary>

    1. **엔티티 설계**: 정규화 구조에 맞춰 `@OneToMany`, `@ManyToOne` 매핑
  ```
  @Entity
  public class User {
      @OneToMany(mappedBy = "user")
      private List<Order> orders; // 1:N 관계
  }
  ```
    2. **성능 최적화**:
        - `FetchType.LAZY`로 지연 로딩 설정
        - `@EntityGraph`로 JOIN 최적화
    3. **CQRS 패턴**: 명령(Command) 모델은 정규화, 조회(Query) 모델은 비정규화  
       **주의**: N+1 문제 해결을 위해 `Batch Size` 또는 DTO 프로젝션 사용
  </details>

---

### 평가 포인트
- **개념 이해**: ERD 구성 요소와 정규화 단계별 조건 명확히 설명
- **문제 해결**: 이상 현상 구체적 예시와 해결책 제시
- **실무 적용**: Spring JPA 기반 정규화 구조 구현 및 성능 최적화 방안

예시: *"이커머스 프로젝트에서 주문-결제 모듈은 3NF로 정규화해 데이터 정합성을 보장했으나, 주문 조회 API는 비정규화된 뷰를 생성해 200ms → 50ms로 성능 개선"*
