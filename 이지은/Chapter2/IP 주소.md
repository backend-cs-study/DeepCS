# Chapter2-4. IP 주소

## 1) ARP
* **ARP**(Address Resolution Protocol): IP 주소에서 MAC주소를 찾아 MAC기반으로 통신
  * MAC 주소를 구하는 IP와 MAC 주소의 다리 역할을 하는 프로토콜
* 논리적 주소 `IP 주소` → **ARP** → 물리적 주소 `MAC 주소`
* 물리적 주소 `MAC 주소` → **RARP** → 논리적 주소 `IP 주소`

> ### 📢 유니캐스트와 브로드캐스트
> * **유니캐스트**: 송신 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전송되는 방식
> * **브로드캐스트**: 고유 주소로 식별된 하나의 네트워크 목적지에 1:1로 데이터를 전송하는 방식

<br>

## 2) 홉 바이 홉 통신
* **홉 바이 홉**: IP주소를 통해 통신하는 과정. 통신망에서 각 패킷이 여러개의 라우터를 건너감
* 서브 네트워크 안의 라우터의 라이팅 테이블은 IP기반으로 패킷전달
* 라우팅 테이블의 IP를 통해 시작주소부터 다음 IP로 계속해서 이동(라우팅)
  * **라우팅 테이블**: 송신지에서 수신지까지 도달하기 위해 사용되며 라우터에 있는 목적지와 경로가 들어있는 리스트
  * **게이트 웨이**: 서로 다른 통신망과 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 관문인 컴퓨터 또는 소프트웨어
    * 서로 다른 네트워크 상의 통신 프로토콜을 변환해주는 역할
    * 라우팅 테이블을 통해 확인 가능

<br>

## 3) IP 주소 체계
* **IPv4**: 32비트를 8비트 단위로 점을 찍어 표기
* **IPv6**: 64비트를 16비트 단위로 점을 찍어 표기

<br>

## 4) 클래스 할당 방식
<img src="https://velog.velcdn.com/images/hoegon02/post/54ecadda-4cf3-43a8-9149-2d0a61a6262b/image.PNG">

* 클래스 A,B,C는 일대일 통신에 사용되고, 클래스 D는 멀티캐스트 통신, 클래스 E는 예비용으로 사용한다.

* 네트워크 첫번째 주소는 네트워크 주소로 사용, 마지막 주소는 브로드캐스트용 주소로 사용
* 그외 나머지 주소는 컴퓨터에 부여할 수 있는 호스트 주소
* 단점: 사용하는 주소보다 버리는 주소가 더 많음 → 해결방법: DHCP, IPv6, NAT

<br>

### 1️⃣ DHCP (Dynamic Host Configuration Protocol)
* IP 주소 및 기타 통신 매개변수를 자동으로 할당하기 위한 네트워크 관여 프로토콜
* 네트워크 장치간의 IP주소를 수동으로 설정할 필요없이 인터넷에 접속할 때마다 자동으로 IP주소 할당

<br>

### 2️⃣ NAT (Network Address Translation)
* 패킷이 라우터 장치를 통해 전송되는 동안 패킷의 IP주소 정보를 수정하여 IP주소를 다른 주소로 매핑하는 방법
* NAT를 사용하여 공인 IP와 사설 IP를 분리
* 하나의 IP인 공인 IP를 기반으로 각각 다른 IP를 가지는 것처럼 사용가능
  * NAT를 사용하는 이유: 여러대의 호스트가 하나의 공인 IP주소를 연결하여 인터넷에 접속 (예 인터넷 공유기)
  * 보안: 내부 IP주소와 외부 IP주소를 다르게 사용
  * 단점: 여러명 동시 접속시 호스트 숫자에 따라 속도 저하