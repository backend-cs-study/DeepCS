# Chapter2 네트워크

<br>

# 📚 목차

> **[1. 처리량과 지연 시간](#처리량과-지연-시간)**
>
> **[2. 네트워크 토폴로지와 병목 형상](#네트워크-토폴로지와-병목-형상)**
>
> **[3. 네트워크 분류](#네트워크-분류)**
>
> **[4. 네트워크 성능 분석 명령어](#네트워크-성능-분석-명령어)**
>
> **[5. 네트워크 프로토콜 표준화](#네트워크-프로토콜-표준화)**
> 


<br>


> **💡 네트워크**
>
> **노드**(Node)와 **링크**(Link)가 서로 연결되어 있으며 <ins>리소스를 공유</ins>하는 집합
> 
> ![Image](https://github.com/user-attachments/assets/c8718efa-afa5-46e5-9f70-6cf2582db258)

<br>

## 처리량과 지연 시간

**[좋은 네트워크]**

- 많은 처리량
- 짧은 지연 시간
- 적은 장애 빈도
- 안전한 보안

<br>

### 처리량 (Throughput) 

링크 내에서 **성공적으로 전달된 데이터의 양**을 의미한다. ➡️ **얼만큼의 트래픽을 처리했는가**

> **💡 많은 트래픽을 처리 = 많은 처리량** 

<br>

**[단위]**

초당 전송 OR 수신되는 비트 수 **bps (bits per second)** 

**[받는 영향]**

- **트래픽**
- 네트워크 장치 간의 **대역폭**
- **에러**
- 장치의 **하드웨어 스펙**

<br>

**트래픽**

  특정 시점에 **링크 내에 흐르는 데이터의 양**

  예시: 서버에 저장된 파일(이미지, 동영상 등) 다운로드 시 발생되는 데이터 누적량

<br>

**대역폭**

주어진 시간 동안 네트워크 연결을 통해 **흐를 수 있는 최대 비트 수** 

![Image](https://github.com/user-attachments/assets/8e1ca1d8-ddef-4d7a-951f-a56f68f5c7e9)


> **⚠️ 트래픽이 많다 vs 처리량이 많다** 
> 
> | **표현**             | **의미**            
> |------------------|-------------------
> | 트래픽이 많아진다 | 링크 내 **데이터 양**이 많아졌다.     
> | 처리량이 많아진다 | 처리되는 **트래픽**이 많아졌다.   

<br>

### 지연 시간 (Latency)

**요청이 처리되는 시간**을 의미하며 메세지가 **두 장치 사이를 왕복하는데 걸리는 시간**을 말한다. 

**[받는 영향]**

- 매체 타입(무선, 유선)
- 패킷 크기
- 라우터의 패킷 처리 시간

![Image](https://github.com/user-attachments/assets/41878438-d01f-4c9a-8926-9806c7456869)

<br>

## 네트워크 토폴로지와 병목 형상
### 네트워크 토폴로지(Network Topology)

**노드**와 **링크**가 <ins>어떻게 배치</ins>되어 있는지에 대한 **연결 형태**

<br>

#### 트리 토폴로지 (계층형 토폴로지)

![Image](https://github.com/user-attachments/assets/5b75a818-1f85-42bd-81f9-2859731e2139)

- 노드의 **추가, 삭제**가 쉬움
- 특정 노드에 트래픽이 집중될 때 **하위 노드에 영향**을 끼칠 수 있음


<br>

#### 버스 토폴로지 (근거리 통신망: LAN)

`중앙 통신 회선` 하나에 <ins>여러개의 노드가 연결되어 공요</ins>하는 구성 ➡️ **LAN에서 사용**

![Image](https://github.com/user-attachments/assets/75f5f6c2-a08d-4d59-9170-fbb716d17155)

**[장점]**
- 설치 비용이 적음
- 신뢰성이 우수함
- 중안 통신 회선에 노드를 추가, 삭제가 쉬움

**[단점]**
- `스푸핑`이 가능한 **문제가 존재**

<br>

> **⚠️ 스푸핑**
> 
> LAN상에서 송신부의 `패킷`을 송신과 **관련 없는 다른 호스트에 가지 않도록 하는 스위칭 기능을 마비**시키거나 속여서 **특정 노드에 해당 패킷이 오도록 처리하는 것**을 말한다.  
>
> ➡️  위조된 정보로 상대방을 착각하게 만들어 잘못된 동작을 유도하는 것.
> 
> **[예시 IP 스푸핑]**
> 
> ![Image](https://github.com/user-attachments/assets/fdbcee76-b07d-4de6-8802-a26fa6ec193b)

<br>

#### 스타 토폴로지 

`중앙에 있는 노드`에 모두 연결된 네트워크 구성

![Image](https://github.com/user-attachments/assets/cbd3af23-d6d2-459d-91f2-fa5ad9c9f2a1)

**[장점]**

- 노드 추가 및 에러 탐지 쉬움
- 패킷 충돌 가능성 적음
- 장애 노드가 중앙 노드가 아닐 경우 다른 노드에 영향을 끼치는 것이 적음

**[단점]**

- 중앙 노드에 **장애 발생 시** 전체 **네트워크 사용 ❌**, 설치 비용 비쌈

<br>

#### 링형 토폴로지

각각의 노드가 양 옆의 두 노드와 연결하여 전체적으로 고리처럼 하나의 **연속된 길을 통해 통신하는 망 구성 방식**

![Image](https://github.com/user-attachments/assets/3568ddff-cd7f-4677-86a1-aafdf6fa01ff)

**[장점]**

- 노드 수가 증가되어도 네트워크 상의 손실이 거의 없음
- 충돌 발생 가능성이 적고 노드 고장을 쉽게 발견할 수 있음

**[단점]**

- 네트워크 **구성 변경이 어려움**
- 회선에 장애 발생 시 **전체 네트워크에 큰 영향**을 끼침

<br>

#### 메시 토폴로지 (망형 토폴로지)

그물망처럼 연결되어 있는 구조

![Image](https://github.com/user-attachments/assets/2b42ec56-7a72-469c-9c6c-9fc0e416ad86)

**[장점]**

- 한 단말 장치에 장애가 발생해도 여러개의 경로가 존재하여 네트워크를 계속 사용할 수 있음
- **트랙픽 분산 처리** 가능


**[단점]**

- 노드 추가가 어려움
- 구축, 운용 비용이 비쌈


<br>

### 병목(Bottleneck) 현상

![Image](https://github.com/user-attachments/assets/f30409e9-02c7-4f39-9689-9853830f4710)

전체 시스템의 **성능**이나 **용량**이 <ins>하나의 구성 요소</ins>로 인해 **제한을 받는 현상**

예시: 트래픽이 몰리면서 사용자가 웹 사이트에 접속하지 못하는 경우

![Image](https://github.com/user-attachments/assets/eb97c2c0-6ab7-4286-8d5d-3a4987059ffc)

<br>

## 네트워크 분류

네트워크는 규모를 기반으로 분류할 수 잇다. 

![Image](https://github.com/user-attachments/assets/f56e1232-0171-4c61-a16f-eb5fb5526c00)

**WAN (Wide Area Network): 세계 규모**

광역 네트워크를 의미하며 국가 또는 <ins>대륙 같은 더 넓은 지역에서 운영

➡️ 전송 속도가 낮고 MAN보다 더 혼잡하다.

---

**MAN (Wide Area Network): 서울시 등 시정도의 규모**

대도시 지역 네트워크를 나타내며 <ins>도시 같은 넓은 지역에서 운영

➡️ 전송 속도는 평균이며 LAN보다 더 많이 혼잡하다. 

---

**LAN (Wide Area Network): 사무실, 개인적 소유 가능 규모**

같은 건물이나 캠퍼스 같은 <ins>좁은 공간에서 운영

➡️ 전송 속도가 빠르고 혼잡하지 않다. 

<br>

## 네트워크 성능 분석 명령어

애플리케이션 **코드상에는 문제가 없는데** 사용자가 <ins>서비스로부터 데이터를 가져오지 못하는 상황 

➡️ **병목 현상일 가능성이 높다.** 

<br>

**[병목 현상 주 원인]**

- 네트워크 대역폭
- 네트워크 토폴로지
- 서버 CPU, 메모리 사용량
- 비효율적인 네트워크 구성 

<br>

### 해결 방법

#### ping(Packet INternet Groper) 

**대상 노드**를 향해 일정 크기의 <ins>패킷을 전송하는 명령어

    ping [IP 주소 또는 도메인 주소]

➡️ 수신 상태, 도달 시간, 네트워크 연결 상태 등을 알 수 있다. 


![Image](https://github.com/user-attachments/assets/2130b4c8-a3ed-4628-9b7d-e04e6b6cba18)

> **💡 TCP/IP 프로토콜 중 `ICMP 프로토콜`을 통해 동작** 
> 
> ⚠️ **ICMP를 지원하지 않는 기기**나 **네트워크 정책상 ICMP, traceroute를 차단하는 대상**의 경우 실행 불가능

<br>

#### netstat

접속되어 있는 서비스들의 네트워크 상태를 표시하는데 사용 **(주로 서비스 포트 열림 여부 확인)**

➡️ 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등의 리스트를 보여준다. 

![Image](https://github.com/user-attachments/assets/fa0883c3-e749-4819-b607-b20d2f74ba47)

<br>

#### nslookup

DNS에 관련된 내용을 확인하기 위해 사용 **(특정 도메인에 매핑된 IP 확인)**

![Image](https://github.com/user-attachments/assets/f91ff1fc-5c36-4b49-aafb-f0f66c494305)

<br>

#### tracert(윈도우)/ traceroute(리눅스)

**목적지 노드까지 네트워크 경로**를 확인할 때 사용

➡️ 어느 구간에서 응답 시간이 느려지는지 등을 확인할 수 있다. 

![Image](https://github.com/user-attachments/assets/88082b8c-c67d-41b7-bafd-5cfcc3d4bb48)

<br>

> **💡추가 명령어**
> 
> **ftp**: 대형 파일 전송 테스팅
> 
> **tcpdump**: 노드로 오고가는 패킷 캡쳐



> **💡네트워크 분산 프로그램**
> 
> **wirehark**
> 
>**netmon**

<br>

## 네트워크 프로토콜 표준화

`네트워크 프로토콜`이란 다른 장치들끼지 **데이터를 주고받기 위해 설정된 공통 인터페이스**

➡️ 프로토콜은 **IEEE**, **IETF**라는 표준화 단체가 정한다. 

예시: '서로 약속된' 인터페이스인 **HTTP라는 프로토콜**을 통해 노드들은 <ins>웹 서비스를 기반으로 데이터를 주고받을 수 있다. 