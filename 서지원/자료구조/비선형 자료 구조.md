# Chapter5 비선형 자료 구조

<br>

# 📚 목차

> **[1. 그래프](#그래프)**
>
> **[2. 트리](#트리)**
>
> **[3. 힙](#힙)**
>
> **[4. 우선순위 큐](#우선순위-큐)**
>
> **[5. 맵](#맵)**
> 
> **[6. 셋](#셋)**
> 
> **[7. 해시 테이블](#해시-테이블)**

<br>

# 비선형 자료 구조란?

일렬로 나열하지 않고 **자료 순서나 관계가 복잡한 구조**를 의미합니다. 

## 그래프

**정점**과 **간선**으로 이루어진 자료 구조를 말합니다. 

### 정점과 간선

<img width="520" height="167" alt="Image" src="https://github.com/user-attachments/assets/2f48ab75-a02b-4937-a392-fa690683c4de" />

<br>

#### 단방향 간선

<img width="569" height="202" alt="Image" src="https://github.com/user-attachments/assets/4080d873-b83a-47f7-a0fe-4864c4a7ddd2" />

#### 양방향 간선

<img width="666" height="246" alt="Image" src="https://github.com/user-attachments/assets/e291cfc5-e008-4525-8dbd-10c2eb4e0316" />

<br>

정점은 약자로 **V** 또는 **U**라고 합니다. 

- 정점으로부터 나가는 간선 ➡️ **outdegree**
- 다른 정점으로 부터 들어오는 간선 ➡️ **indegree**

아래 그림에서의 outdegree는 4개 indegree는 2개가 됩니다. 

<img width="626" height="304" alt="Image" src="https://github.com/user-attachments/assets/e6832215-29bd-4fdf-8956-4fd6a4b29f14" />

<br>

### 가중치 

**간선과 정점 사이에 드는 비용**을 의미합니다. 

<br>

## 트리

- 정점과 간선으로 이루어진 **트리 구조로 배열된 일종의 계층적 데이터의 집합**을 의미합니다. 

- 트리는 루트 노드, 내부 노드, 리프 노드로 이루어져있습니다.

<img width="1062" height="547" alt="Image" src="https://github.com/user-attachments/assets/69babb6a-bc38-4fd0-b718-6ad8828aa8e9" />

<br>

### 트리의 높이와 레벨 

<img width="1263" height="562" alt="Image" src="https://github.com/user-attachments/assets/289c0a97-129e-4b98-9eb4-fb0bfd01835f" />

- 사진에서의 3번 노드의 깊이(레벨): 1, 1레벨 

- 사진에서의 8번 노드의 깊이(레벨): 2, 2레벨

- 사진에서의 트리 높이: 3 

<br>

### 이진 트리 

자식의 노드 수가 2개 이하인 트리를 의미합니다. 

**[종류]**

- 정이진 트리: 자식 노드가 0또는 2개인 트리

<img width="316" height="351" alt="Image" src="https://github.com/user-attachments/assets/662b4949-b99d-448c-b5a0-31258de1992b" />

- 완전 이진 트리: 왼쪽에서부터 채워져 있는 트리


➡️ 마지막 레벨을 제외하고는 모든 레벨이 완전히 채워져 있으며 마지막 레벨의 경우 왼쪽부터 채워져 있습니다. 

<img width="258" height="299" alt="Image" src="https://github.com/user-attachments/assets/f0c6165b-24f4-4363-833f-d979131697ae" />


- 변질 이진 트리: 자식 노드가 하나밖에 없는 트리

<img width="148" height="290" alt="Image" src="https://github.com/user-attachments/assets/20ed9469-b303-4d25-b82f-5b772d4ca888" />

- 포화 이진 트리: 모든 노드가 꽉 차 있는 트리

<img width="275" height="290" alt="Image" src="https://github.com/user-attachments/assets/d829eedc-1f17-4700-8d00-725b413f37a9" />

- 균형 이진 트리: 왼쪽과 오른쪽 노드의 높이 차이가 1이하인 트리

➡️ map, set을 구성하는 **레드 블랙 트리가 균형 이진 트리 중 하나**입니다. 

<img width="257" height="342" alt="Image" src="https://github.com/user-attachments/assets/3ada504c-7deb-4997-af8d-65d5743c9f76" />

<br>

### 이진 탐색 트리 (BST) 

노드의 **오른쪽은 자신보다 큰 값**을 포함하고 **왼쪽은 자신보다 작은 값**을 포함하는 트리를 의미합니다. 

<img width="694" height="668" alt="Image" src="https://github.com/user-attachments/assets/5e2306ca-304e-43ee-8110-9a4e2771a15c" />

해당 방식은 검색에 용이하며, 최선은 O(nlogn) 최악은 O(n)의 시간 복잡도를 가집니다. 

> 💡 **O(n)인 이유**
> 
> 이진 탐색 트리의 경우 삽입 순서에 따라 선형적인 형태 가질 수 있습니다. (예: 1 ➡️ 2 ➡️ 3 ➡️ 4)
> 
> <img width="604" height="546" alt="Image" src="https://github.com/user-attachments/assets/73fcd48a-2f20-4e25-8b9a-c03ff04994d7" />

<br>

### AVL 트리 

BST에서 발생하는 **최악의 경우를 방지하고 스스로 균형을 잡는 이진 탐색 트리**입니다. 
탐색, 삽입, 삭제 모두 O(logn)의 복잡도를 가집니다. 

➡️ 두 자식 **서브 트리의 높이는 항상 최대 1만큼 차이 난다는 특징**을 가지고 있습니다. 

<img width="557" height="535" alt="Image" src="https://github.com/user-attachments/assets/5178aaaf-ca0c-4a97-86c5-e550e9ed063e" />

만약, 높이의 차이가 1 이상이라면 균형을 맞추기 위해 **트리의 일부를 회전**시키는 과정을 거칩니다. 

<br>

### 레드 블랙 트리 

- 균형 이진 탐색 트리로 삽입, 삭제 모두 O(logn)의 복잡도를 가집니다. 
- **각 노드는 빨간색 혹은 검은색의 색상을 나타내는 추가 비트를 저장**합니다.
- 삽임 및 삭제 중에 트리가 균형을 유지하도록 하는데 사용됩니다.
- JAVA에서는 TreeMap과 TreeSet, HashMap에 사용됩니다. 

<img width="1221" height="602" alt="Image" src="https://github.com/user-attachments/assets/aa576f27-7641-468c-b727-7e0e1c407c46" />

<br>

## 힙

- **완전 이진 트리 기반**의 자료구조입니다. 
- **최소 힙**과 **최대 힙** 2가지가 있으며 해당 힙에 따라 특정한 특징을 지킨 트리를 의미합니다. 

### 최대 힙

- **루트 노드**에 있는 키는 <ins>모든 자식에 있는 키 중에서 가장 커야합니다. 
- **각 노드의 자식 노드와의 관계도 이와 같은 특징**이 재귀적으로 이루어져야 합니다. 

#### 삽입 

1️⃣ 새로운 요소가 들어오면 해당 요소를 마지막 노드에 이어서 삽입합니다. 

2️⃣ 새로운 노드를 부모 노드들과의 크기를 비교하여 교환해서 힙의 성질을 만족시킵니다. 

<br>

#### 삭제

최대 힙의 경우 최대 또는 최소 값을 빠르게 추출해야할 때 효율적인 자료구조입니다. 

따라서, 중간 요소 삭제 등의 역할은 다른 자료구조를 사용하는 것이 좋습니다. 

> 최대 힙의 삭제는 항상 **루트 노드의 삭제를 가정**합니다. 

<img width="992" height="636" alt="Image" src="https://github.com/user-attachments/assets/50c748b5-cd97-4dbc-92de-56f88674f646" />

<img width="893" height="469" alt="Image" src="https://github.com/user-attachments/assets/aaa320d4-6332-4685-9f78-d23a6f7bfe1c" />

<img width="1185" height="552" alt="Image" src="https://github.com/user-attachments/assets/73a4c5cb-0898-40c8-b971-ef47569a31d6" />


<br>

### 최소 힙 

- **루트 노드**에 있는 키는 <ins>모든 자식에 있는 키 중에서 가장 작아야합니다.
- **각 노드의 자식 노드와의 관계도 이와 같은 특징**이 재귀적으로 이루어져야 합니다.

<br>

## 우선순위 큐

대기열에서 **우선 순위가 높은 요소가 우선 순위가 낮은 요소보다 먼저 제공**되는 자료 구조입니다. (힙 기반)

<br>

## 맵

특정 순서에 따라 **키와 매핑된 값의 조합**으로 형성된 자료 구조입니다. (레드 블랙 트리 기반)

➡️ 삽입 시 자동 정렬됩니다. 

예: 1: 김OO 2: 나OO ..

<br>

## 셋

특정 **순서에 따라 고유한 요소를 저장**하는 컨테이너이며, 중복되는 요소는 없고 오로지 **희소한 값만 저장하는 자료 구조**입니다. 

<br>

## 해시 테이블

- 무한에 가까운 데이터들을 **유한한 개수의 해시 값으로 매핑한 테이블** 입니다. 
- 삽입, 삭제, 탐색 시 평균적으로 O(1)의 시간 복잡도를 가집니다. (정렬을 보장하지 않는 map으로 구현)
