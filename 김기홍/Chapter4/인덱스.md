# 인덱스

## 인덱스의 필요성

인덱스는 데이터를 빠르게 찾을 수 있는 하나의 장치입니다.
> 인덱스는 데이터베이스에서 데이터 검색 속도를 획기적으로 향상시키는 자료구조입니다.
> 마치 책의 목차나 색인처럼, 원하는 데이터를 빠르게 찾을 수 있도록 도와줍니다. 인덱스가 없으면 전체 테이블을 처음부터 끝까지 모두 검색(Full Table Scan)해야 하지만, 인덱스를 사용하면 검색 대상
> 레코드의 범위를 대폭 줄일 수 있습니다.

#### 장점

- 대용량 데이터에서 검색 속도 비약적 향상

- WHERE, ORDER BY, GROUP BY, JOIN 등 다양한 쿼리에서 성능 최적화

- 컬럼의 유일성(Unique) 보장 가능

#### 단점

- 추가 저장 공간 필요

- INSERT, UPDATE, DELETE 시 인덱스도 함께 갱신되어 오버헤드 발생

- 인덱스가 너무 많으면 오히려 성능 저하

## B-트리

B-트리
**B-트리(B-tree)** 는 데이터베이스 인덱스에서 가장 널리 사용되는 자료구조입니다.

- 이진 탐색 트리의 확장형으로, 한 노드가 2개 이상(최대 M개)의 자식 노드를 가질 수 있습니다.

- 모든 노드는 오름차순으로 정렬된 여러 개의 키 값을 저장합니다.

- 균형 트리 구조라서 모든 리프 노드가 동일한 깊이에 위치합니다.

- 검색, 삽입, 삭제 연산이 모두 O(logN)의 시간 복잡도를 가집니다.

- 대용량 데이터 처리에 적합하며, 디스크 접근 횟수를 최소화합니다

## 인덱스 만드는 방법

인덱스는 자동 또는 수동으로 생성할 수 있습니다.

- 자동 생성: PRIMARY KEY, UNIQUE 제약 조건을 지정하면 DBMS가 자동으로 인덱스를 생성합니다.

- 수동 생성: 사용자가 직접 SQL 명령어로 인덱스를 생성합니다.

 ```aiignore
-- 단일 컬럼 인덱스 생성
CREATE INDEX idx_column ON table_name (column_name);

-- 복합(다중) 컬럼 인덱스 생성
CREATE INDEX idx_multi ON table_name (column1, column2);

-- 고유(UNIQUE) 인덱스 생성
CREATE UNIQUE INDEX idx_unique ON table_name (column_name);

-- 클러스터형 인덱스 (DBMS에 따라 지원)
CREATE CLUSTERED INDEX idx_clust ON table_name (column_name);

```

## 인덱스 최적화 기법

인덱스 최적화는 데이터베이스 성능 향상과 쿼리 응답 시간 단축을 위해 필수적입니다.
주요 기법은 다음과 같습니다:

- 적절한 컬럼에만 인덱스 생성

- 자주 검색되거나 WHERE, JOIN, ORDER BY, GROUP BY 등에 자주 사용되는 컬럼에만 인덱스 적용
