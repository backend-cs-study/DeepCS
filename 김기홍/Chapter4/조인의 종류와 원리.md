# 조인의 종류 와 원리

> 조인이란?<br>
> 데이터베이스에서 두 개 이상의 테이블을 특정 조건에 따라 연결하여 하나의 결과 집합으로 반환하는 연산입니다. 서로 다른 테이블의 데이터를 조합해 의미 있는 정보를 추출할 때 사용합니다

## 내부 조인 (Inner Join)

- 두 테이블에서 조인 조건을 만족하는 행만 결과로 반환합니다.

- 예를 들어, A와 B 테이블을 조인할 때, A와 B 모두에 존재하는 값만 결과에 포함됩니다.

## 왼쪽 조인 (Left Join)

- 왼쪽(기준) 테이블의 모든 행을 결과로 반환하고, 오른쪽 테이블에 일치하는 값이 있으면 그 값을, 없으면 NULL을 반환합니다.

- 기준 테이블의 데이터가 모두 보장되어야 할 때 사용합니다.

## 오른쪽 조인 (Right Join)

- 오른쪽(기준) 테이블의 모든 행을 결과로 반환하고, 왼쪽 테이블에 일치하는 값이 있으면 그 값을, 없으면 NULL을 반환합니다.

- 오른쪽 테이블의 데이터가 모두 보장되어야 할 때 사용합니다.

## 합집합 조인 (Full Outer Join)

- 양쪽 테이블의 모든 행을 결과로 반환합니다. 어느 한쪽에만 존재하는 값도 모두 결과에 포함되며, 일치하지 않는 쪽은 NULL로 채워집니다.

---
> 조인의 원리
>

## 중첩 루프 조인

- 중첩 for문과 같은 구조로, 한 테이블의 각 행마다 다른 테이블의 모든 행을 반복적으로 비교하여 조건에 맞는 데이터를 찾습니다.

- 작은 테이블에 적합하며, 대용량 데이터에는 비효율적입니다.

- 인덱스가 있으면 성능이 향상될 수 있습니다

## 정렬 병합 조인

- 두 테이블을 조인 키로 정렬한 뒤, 정렬된 결과를 순차적으로 스캔하면서 조인 조건에 맞는 데이터를 병합합니다.

- 인덱스가 없어도 사용할 수 있으며, 대용량 테이블이나 범위 비교(>, < 등)가 포함된 조인에 유리합니다.

- 정렬 비용이 발생하지만, 랜덤 액세스가 적어 대용량 처리에 적합합니다

## 해시 조인

- 해시 테이블을 이용해 조인을 수행하는 방식으로, 주로 등가(=) 조인에서 사용합니다.

- 두 단계로 나뉩니다
    - 빌드 단계
        - 조인 대상 중 작은 테이블을 선택하여 메모리 내에 해시 테이블을 생성합니다.
        - 조인 키 값을 해시 함수로 변환하여 해시 테이블에 저장합니다


- 프로브 단계
    - 다른 테이블의 각 행을 읽으면서, 해시 테이블에서 일치하는 키를 찾아 결과를 반환합니다.
    - 두 테이블이 모두 한 번씩만 읽히므로, 중첩 루프 조인보다 효율적입니다.
    - 장점: 인덱스가 없어도 사용 가능, 대용량 데이터에 유리
    - 단점: 메모리 사용량이 많으며, 등가(=) 조인에만 사용 가능
    
