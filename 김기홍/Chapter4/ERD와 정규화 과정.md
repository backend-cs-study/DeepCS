# ERD와 정규화 과정

## ERD의 중요성

**ERD(Entity Relationship Diagram, 개체-관계 다이어그램)** 는 데이터베이스를 설계할 때 핵심 개체(테이블), 속성(컬럼), 그리고 이들 간의 관계를 시각적으로 표현하는 도구입니다.

ERD를 통해 데이터 구조를 명확히 파악할 수 있고, 데이터 중복, 무결성 문제를 사전에 예방할 수 있습니다.

**비정형 데이터** (예: 자유 텍스트, 이미지, 로그 등)는 구조화된 테이블로 표현하기 어렵지만, ERD 설계 시 비정형 데이터를 저장할 별도의 테이블(예: 파일, 첨부자료, 로그 테이블 등)로 관리하거나,
메타데이터를 분리하여 설계함으로써 데이터 관리와 검색 효율성을 높일 수 있습니다.

## 예제로 배우는 ERD

예시: 간단한 도서 대여 시스템

- 개체(테이블)

    - User(사용자): 사용자ID, 이름, 이메일

    - Book(도서): 도서ID, 제목, 저자

    - Rental(대여): 대여ID, 사용자ID, 도서ID, 대여일, 반납일

- 관계

    - 한 명의 사용자는 여러 권의 책을 대여할 수 있음(1:N)

    - 한 권의 책은 여러 번 대여될 수 있음(1:N)

```aiignore
[User] 1---N [Rental] N---1 [Book]
```

- ERD

    - User와 Rental: 1:N 관계 (한 사용자가 여러 대여)

    - Book과 Rental: 1:N 관계 (한 책이 여러 번 대여)

## 정규화 과정

- 정규형 원칙
    - 제1정규형(1NF)
        - 모든 속성은 원자값(Atomic Value)만을 가진다.
        - 한 컬럼에 여러 값이 들어가는 중복/반복 속성(예: 전화번호1, 전화번호2)은 허용되지 않는다.
    - 제2정규형(2NF)
        - 1NF를 만족해야 하며, 기본키의 부분집합(부분키)에 종속된 속성이 없어야 한다.
        - 즉, 복합키를 사용하는 테이블에서, 일부 키에만 종속되는 속성은 별도의 테이블로 분리한다.
    - 제3정규형(3NF)
        - 2NF를 만족해야 하며, 기본키가 아닌 속성이 다른 기본키가 아닌 속성에 종속되면 안 된다(이행적 종속 제거).
        - 즉, 모든 컬럼은 오직 기본키에만 의존해야 한다.
    - 보이스/코드 정규형(BCNF)
        - 3NF를 만족해야 하며, 모든 결정자가 후보키가 되도록 테이블을 분해한다.
        - 즉, 후보키가 아닌 컬럼이 다른 컬럼을 결정하는 경우가 없어야 한다.


