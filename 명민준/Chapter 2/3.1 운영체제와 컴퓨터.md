# 운영체제와 컴퓨터

## 💡 운영체제란?

운영체제(OS, Operating System)는 사용자가 컴퓨터를 쉽게 다루게 해주는 인터페이스입니다.  
한정된 메모리나 시스템 자원을 효율적으로 분배하는 일꾼입니다.

- **펌웨어** : 운영체제와 유사하지만, 소프트웨어를 추가로 설치할 수 없습니다.

---

## 운영체제의 역할과 구조

### 운영체제의 역할

- **CPU 스케줄링과 프로세스 관리**
    - CPU 소유권을 어떤 프로세스에 할당할지 결정
    - 프로세스의 생성과 삭제 관리
    - 자원 할당 및 반환

- **메모리 관리**
    - 한정된 메모리를 어떤 프로세스에 얼만큼 할당할지 결정

- **디스크 파일 관리**
    - 디스크 파일을 어떤 방식으로 보관할지 관리

- **I/O 디바이스 관리**
    - 마우스, 키보드와 컴퓨터 간 데이터 송수신 관리

### 운영체제의 구조

- **커널**: 운영체제의 중추적인 역할
    - 시스템 콜 인터페이스를 제공
    - 보안, 메모리, 프로세스, 파일 시스템, I/O 디바이스, I/O 요청 관리 등

- **GUI (Graphical User Interface)**: 아이콘을 마우스로 클릭하는 동작으로 컴퓨터와 상호작용

- **CUI (Character User Interface)**: 명령어로 처리하는 인터페이스

---

## 시스템 콜

운영체제가 커널에 접근하기 위한 인터페이스입니다.

- 유저 프로그램이 커널 함수를 호출할 때 사용
- 컴퓨터 자원에 대한 직접 접근을 차단하고 프로그램을 보호함

**동작 흐름**:

1. 유저 프로그램이 I/O 요청으로 트랩(trap) 발생
2. 올바른 요청인지 확인
3. 유저 모드에서 커널 모드로 변환 (modebit: 1 → 0)
4. 커널 모드에서 로직 수행
5. 다시 유저 모드로 복귀 (modebit: 0 → 1)

- **유저 모드**: 제한적인 자원 접근 가능
- **커널 모드**: 모든 컴퓨터 자원에 접근 가능

---

## 컴퓨터의 요소

컴퓨터는 다음과 같은 구성 요소로 이루어져 있습니다:  
**CPU, DMA 컨트롤러, 메모리, 타이머, 디바이스 컨트롤러 등**

### CPU (Central Processing Unit)

인터럽트에 의해 메모리의 명령어를 해석하여 실행하는 장치입니다.

- 구성 요소:
    - **제어장치 (CU)**: 명령어 해석, 데이터 처리 순서 결정
    - **레지스터**: 매우 빠른 임시기억장치
    - **산술논리연산장치 (ALU)**: 산술 및 논리 연산 수행

**연산 처리 과정**:

1. 제어장치가 메모리와 레지스터에서 계산할 값을 로드
2. 제어장치가 ALU에 계산 명령
3. 계산 결과를 레지스터에서 메모리로 저장

### 인터럽트 (Interrupt)

어떤 신호가 들어왔을 때 CPU를 일시 중지시키는 메커니즘입니다.

- **인터럽트 벡터**로 이동하여 **인터럽트 핸들러 함수** 실행
- 우선순위에 따라 처리

#### 하드웨어 인터럽트

- I/O 디바이스에서 발생
- 디바이스의 로컬 버퍼에 접근하여 작업 수행

#### 소프트웨어 인터럽트 (Trap)

- 시스템 콜 호출 시 발생
- 프로세스 오류 등으로 유발됨

### DMA 컨트롤러 (Direct Memory Access)

I/O 디바이스가 CPU를 거치지 않고 메모리에 직접 접근할 수 있게 하는 하드웨어입니다.  
CPU의 부하를 줄이는 역할을 합니다.

### 메모리

전자회로에서 데이터나 상태, 명령어 등을 저장하는 장치입니다.  
보통 RAM(Random Access Memory)을 지칭합니다.

- **CPU**: 일꾼
- **메모리**: 작업장 (크면 클수록 더 많은 작업 수행 가능)

### 타이머

특정 프로그램에 시간 제한을 부여하는 장치입니다.  
작업이 과도하게 오래 걸릴 때 제어 목적입니다.

### 디바이스 컨트롤러

각 I/O 디바이스에 연결된 작은 CPU입니다.  
옆에 **로컬 버퍼**가 있어 데이터를 임시 저장할 수 있습니다.
