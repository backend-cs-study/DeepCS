## TCP/IP 4계층 모델

### 2.2.1 계층 구조
TCP/IP 계층은 네 개의 계층을 가지고 있으며 OSI 7계층과 많이 비교함
[이미지]

### 어플리케이션 계층
- FTP, HTTP, SSH, SMTP, DNS 등 응용 프로그램이 사용되는 프로토콜 계층
- 웹 서비스, 이메일 등 서비스를 실질적을 사람들에게 제공하는 계층

> - FTP : 장치와 장치 간의 파일을 전송하는 데 사용되는 표준 통신 프로토콜
> - SSH : 보안되지 않은 네트워크에서 네트워크 서비스를 안전하기 운영하기 위한 암호화 네트워크 프로토콜
> - DNS : 도메인 이름과 IP 주소를 매핑해주는 서버
> - HTTP : World Wide Web을 위한 데이터 통신의 기초이자 웹 사이트를 이용하는 데 쓰는 프로토콜
> - SMTP : 전자 메일 전송을 위한 인터넷 표준 통신 프로토콜

### 전송 계층
- 송신자와 수신자를 연결하는 통신 서비스를 제공하는 계층
- 연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어 제공
- 대표적으로 TCP / UDP 존재
  - TCP 
    - 패킷 순서를 보장하고 연결지향 프로토콜을 사용해 신뢰성을 구축해 수신 여부를 확인하며 '가상회선 패킷 교환 방식' 사용
    - TCP 연결 성립 과정
      - 3 way-handshake 방식 사용
  - UDP
    - 순서를 보장하지 않고 수신 여부를 확인하지 않으며 단순히 데이터만 주는 '데이터그램 패킷 교환 방식' 사용

<br>

> 가상회선 패킷 교환 방식
> - 각 패킷에 가상회선 식별자가 포함됨
> - 모든 패킷을 전송하면 가상회선이 해제
> - 패킷들은 전송된 '순서대로' 도착
> 
> 데이터그램 패킷 교환 방식
> - 패킷이 독립적으로 이동
> - 최적의 경로를 선택하여 감
> - 하나의 메시지에서 분할되어 여러 패킷이 다른 경로로 전송될 수 있음(순서가 다를 수 있음)

### 인터넷 계층
- 장치로부터 받은 네트워크 패킷 IP 주소로 지정된 목적지로 전송하는 위해 사용
- IP, ARP, ICMP 등이 있으며 패킷을 수신해야 할 상대의 주소를 지정하여 데이터를 전달
- 제대로 받았는지에 보장을 하지않아 비연결형적인 특징을 가짐

### 링크 계층
- 전선, 광섬유, 무선 등으로 실질적인 데이터 전달
- 장치 간의 신호를 주고받는 '규칙'을 정함

### 계층 간 데이터 송수신 과정
1) 어플리케이션 계층 > 전송 계층 필자가 보내는 요청값을 캡술화 과정을 통해 전달
2) 링크 계층을 통해 해당 서버와 통신
3) 해당 서버의 링크 계층으로 부터 어플리케이션 계층까지 비캡슐화 과정을 거처 데이터 전달

- 캡슐화 : 상위 계층의 헤더와 데이터를 하위 계층의 데이터 부분에 포함시키고 해당 계층의 헤더에 삽입하는 과정
- 비캡슐화 : 하위 계층에서 상위 계층으로 가며 각 계층의 헤더 부분을 제거하는 과정

### 2.2.2 PDU
- 네트워크의 어떤 계층에서 개층으로 데이터가 전달 될떄 한 덩어리의 단위
- 헤더 : 제어 관련 정보
- 페이로드 : 데이터
  1) 어플리케이션 계층 : 메세지
  2) 전송 계층 : 세그먼트(TCP), 데이터그램(UDP)
  3) 인터넷 계층 : 패킷
  4) 링크 계층 : 프레임(데이터 링크 계층), 비트(물리 계층)