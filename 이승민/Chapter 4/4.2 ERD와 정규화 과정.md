 # ERD와 정규화 과정
 ERD는 데이터베이스를 구축할 때 가장 기초적인 뼈대 역활을 하며 릴레이션 간의 관계를 정의한 것
 
## 4.2.1 ERD의 중요성
- ERD는 시스템의 요구 사항을 기반으로 작성 이를 기반으로 데이터베이스르 구축
- DB 구축 이후에도 디버깅 또는 비지니스 프로세스 재설계가 필요한 경우 설계도 역활을 담당
- 관계형 구조로 표현할 수 있는 데이터를 구성하는 데 유용할 수 있지만 비정형 데이터를 충분히 표현할 수 없다

> 비정형 데이터
> - 비구조화 데이터를 말하며, 미리 정의된 데이터 모델이 없거나 미리 정의된 방식으로 정리되지 않은 정보

<br>

## 4.2.2 예제로 배우는 ERD
------------------------- 생략 ---------------------------

<br>

## 4.2.3 정규화 과정
- 릴레이션 간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나서 이를 해결하거나, 저장 공간을 효율적으로 사용하기 위해 릴레이션을 여러 개로 분리하는 과정
> 데이터베이스 이상현상
> - 회원이 한 개의 등급을 가져야 하는데 세 개의 등급을 가지거나 삭제할 때 필요한 데이터가 같이 삭제되고, 데이터를 삽입해야 하는데 하나의 필드 값이 NULL이 되면 안되서 삽입하기 어려운 현상

- 정규형 원칙을 기반으로 정규형을 만들어 가는 과정

### 정규형 원칙
- 같은 의미를 표현하는 릴레이션이지만 좀 더 좋은 구조로 만들어야 한다
- 자료의 중복성은 감소해야 한다
- 독립적인 관계는 별개의 릴레이션으로 표현해야 한다
- 각각의 릴레이션은 독립적인 표현이 가능해야 한다

### 제1정규형
- 릴레리션의 모든 도메인이 더이상 분해될 수 없는 원자 값(atomic value)만으로 구성되야 한다
- 릴레이션의 속성 값 중에서 한 개의 기본키에 대해 두 개 이상의 값을 가지는 반복 잡합이 있으면 안된다

|   유저번호   | 유저ID   | 수강명               | 성취도       |
|:--------:|:-------:|:-------------------:|:-----------:|
|    1     | 홍철     | [C++ 코딩테스트,프런트 특강 | [90%,10%] |
|    2     | 범석     | [코드포스 특강, DS 특강]  | [7%,8%]   |
⬇

| 유저번호 | 유저ID | 수강명 | 성취도       |
|:--------:|:-------:|:------:|:-----------:|
|1|홍철|C++ 코딩테스트|90%|
|2|홍철|프런트 특강|10%|
|3|범석|코드포스 특강|7%|
|4|범석|DS 특강|8%|

### 제2정규형
- 제1정규형이며 부분 함수의 종속성을 제거한 상태
- 부분 함수의 종속성 제거란 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속적인 것

| 유저번호 | 유저ID | 수강명 | 성취도       |
|:--------:|:-------:|:------:|:-----------:|
|1|홍철|C++ 코딩테스트|90%|
|2|홍철|프런트 특강|10%|
|3|범석|코드포스 특강|7%|
|4|범석|DS 특강|8%|
⬇

| 유저번호 | 유저ID |
|:--------:|:-------:|
|1|홍철|
|2|범석|

| 유저ID | 수강명 | 성취도       |
|:-------:|:------:|:-----------:|
|홍철|C++ 코딩테스트|90%|
|홍철|프런트 특강|10%|
|범석|코드포스 특강|7%|
|범석|DS 특강|8%|
- 릴레이션을 분해할 때 동등한 릴레이션으로 분해하고 정보 손실이 발생하지 않는 무손실 분해로 분해되어야 한다

### 제3정규형
- 제2정규형이며 기본키가 아닌 모든 속성이 이행적 함수 종속(transitive FD)을 만족하지 않는 상태

> 이행적 함수 종속
> - A > B 와 B > C 가 존재하면 논리적으로 A > C 가 성립하는데, 이때 집합 C가 집합 A에 이행적으로 함수 종속 됬다고 한다 

|유저ID|등급|할인율|
|:---:|:--:|:---:|
|홍철|플래티넘|30%|
|범수|다이아|50%|
|가영|마스터|70%|
⬇

|유저ID|등급|
|:---:|:--:|
|홍철|플래티넘|
|범수|다이아|
|가영|마스터|

|  등급  |할인율|
|:----:|:---:|
| 플래티넘 |30%|
| 다이아  |50%|
| 마스터  |70%|

### 보이스/코드 정규형
- 제3정규형이며 결정자가 후보키가 아닌 함수 종속관계를 제거하여 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키인 상태
> 결정자
> - 함수 종속 관계엣서 특정 종속자를 결정짖는 요소, 'X>Y'일 때 X는 결정자, Y는 종속자이다

