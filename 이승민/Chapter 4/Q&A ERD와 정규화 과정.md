# ✅ ERD 및 정규화 관련 면접 예상 질문과 답변

## 🔹 Q1. ERD란 무엇인가요? 왜 필요한가요?
답변 예시:

ERD(Entity Relationship Diagram)는 데이터베이스를 설계할 때 엔티티, 속성, 관계를 시각화한 다이어그램입니다.
이를 통해 시스템의 요구사항을 정리하고, 데이터 간 관계를 명확히 하여 구조적인 DB 설계를 가능하게 합니다.
또한, 개발 및 유지보수 과정에서 구조 이해를 도와 디버깅이나 기능 확장 시에도 중요한 설계도로 활용됩니다.

## 꼬리 질문

### Q1-1. ERD는 어떤 도구로 작성해봤나요?

### Q1-2. 비정형 데이터를 ERD로 표현할 수 있나요?
ERD는 정형 데이터를 다루는 관계형 데이터베이스 설계 도구라서, 비정형 데이터에는 적합하지 않습니다.
예를 들어 이미지, 영상, 로그 파일, JSON 문서 등은 RDB보다 NoSQL 계열(MongoDB 등)이 더 적절하며, ERD로는 구조 표현이 제한됩니다.

### Q1.3. ERD 작성 시 주의할 점은?
너무 세부적인 비즈니스 로직을 ERD에 넣기보다는, 데이터 간의 관계 중심으로 설계하는 것이 중요합니다.
또한, 중복되는 정보, 비정상적인 종속 관계, 순환 참조 등이 발생하지 않도록 정규화를 고려하며 설계해야 합니다.

<br>

## 🔹 Q2. 정규화란 무엇인가요? 왜 정규화를 하나요?
답변 예시:

정규화는 데이터베이스 내에서 중복을 최소화하고, 이상현상(삽입·삭제·갱신 이상)을 방지하기 위해 테이블을 분해하고 구조화하는 과정입니다.
이를 통해 데이터 무결성을 보장하고 저장 공간을 효율적으로 사용할 수 있습니다.

## 꼬리 질문

### Q2-1. 정규화가 너무 진행되면 어떤 단점이 있을까요?
정규화가 너무 진행되면 테이블이 너무 쪼개져서 조회 시 조인 연산이 많아지고, 성능 저하가 발생할 수 있습니다.
특히 읽기 중심 시스템에서는 성능을 위해 역정규화를 고려하는 경우도 있습니다.

### Q2-2. 언제 정규화를 하지 않나요?
정규화를 하지 않거나 역정규화를 고려하는 경우는, 데이터 중복보다 성능이 중요한 상황입니다.
예를 들어 로그 데이터 저장, 캐싱용 테이블, 실시간 분석용 테이블 등에서는 일부 중복을 허용하고 정규화를 생략합니다.

### Q2-3. 정규화를 반대로 하는 과정을 뭐라고 하나요?
그 과정을 **역정규화(denormalization)**라고 합니다.
주로 읽기 성능을 개선하거나, 과도한 조인을 줄이기 위해 사용합니다.
다만, 중복 데이터 관리가 필요하므로 신중하게 적용해야 합니다.

<br>

## 🔹 Q3. 제1정규형이란?
답변 예시:

제1정규형은 릴레이션의 속성들이 모두 **원자 값(atomic value)**만을 가져야 한다는 조건을 만족하는 상태입니다.
즉, 하나의 컬럼에는 하나의 값만 존재해야 하며, 배열, 리스트처럼 반복되는 값은 허용되지 않습니다.

## 꼬리 질문

### Q3-1. 배열 형태로 값을 저장하면 어떤 문제가 생기나요?
배열이나 리스트 형태로 값을 저장하면 쿼리에서 조건 검색이나 인덱싱이 어렵고,
값을 일부만 수정하거나 필터링하기도 복잡해집니다. 또한 정규화 원칙을 위반하므로 이상현상이 발생할 수 있습니다.

### Q3-2. JSON 형태로 데이터를 저장하는 건 정규화 위반인가요?
RDB에서 JSON은 보통 유연성을 위해 저장하지만, 정규화 관점에서는 위반입니다.
다만, 일부 속성만 자주 변경되거나 구조가 불확실한 경우, 성능 향상을 위해 예외적으로 사용할 수 있습니다.
타협과 설계 기준이 필요합니다.

<br>

## 🔹 Q4. 제2정규형은 무엇이고, 어떻게 만족시키나요?
답변 예시:

제2정규형은 제1정규형을 만족하면서, 부분 함수 종속을 제거한 상태입니다.
복합키를 사용하는 경우, 속성들이 그 키의 일부에만 종속되면 테이블을 분리하여 완전 종속되도록 해야 합니다.

## 꼬리 질문

### Q4-1. 복합키의 예를 들어보세요.
예를 들어 수강기록 테이블에서 기본키가 (유저ID, 수강과목)이라면, 성취도는 이 두 키에 완전히 종속되어야 합니다.
만약 유저의 이름이 유저ID에만 종속된다면 이는 부분 함수 종속이므로 정규화 대상이 됩니다.

### Q4-2. 제2정규형에서는 어떤 이상현상이 해결되나요?
부분 종속성에 의해 발생하는 중복 문제나 갱신 이상을 해결할 수 있습니다.
예를 들어 유저 이름을 여러 행에 중복 저장하게 되면, 유저 이름이 바뀔 경우 모든 행을 갱신해야 하고,
일부만 바뀌면 데이터 불일치가 생깁니다.

<br>

## 🔹 Q5. 제3정규형이란?
답변 예시:

제3정규형은 제2정규형을 만족하면서, 이행적 함수 종속이 제거된 상태입니다.
즉, 기본키가 아닌 컬럼이 다른 컬럼을 결정하지 않아야 하며, 모든 속성은 오직 기본키에만 종속되어야 합니다.

## 꼬리 질문

### Q5-1. 제3정규형을 만족하지 않으면 어떤 문제가 생기나요?
특정 속성이 기본키 외의 다른 속성에 종속되어 있을 경우, 그 속성이 바뀌면 데이터 불일치가 생깁니다.
예를 들어 등급에 따라 할인율이 바뀌는데, 등급이 변경될 때 할인율을 같이 변경하지 않으면 오류가 발생할 수 있습니다.

### Q5-2. 이행적 종속 예시를 설명해주세요.
유저ID → 등급, 등급 → 할인율이면, 유저ID → 할인율도 성립합니다.
이때 할인율은 유저ID에 직접적으로 종속된 것이 아니라, 등급을 거쳐 간접적으로 종속된 이행적 종속입니다.
이는 제3정규형에서 분리해야 할 대상입니다.

<br>

## 🔹 Q6. 보이스-코드 정규형(BCNF)이란?
답변 예시:

보이스-코드 정규형은 제3정규형을 만족하면서도, 모든 결정자가 후보키인 상태를 의미합니다.
즉, 함수 종속 관계에서 결정자가 후보키가 아니면 릴레이션을 다시 분해해야 합니다.

## 꼬리 질문

### Q6-1. 제3정규형과 BCNF는 어떻게 다르나요?
제3정규형은 이행적 종속만 제거하면 되지만,
BCNF는 모든 결정자가 반드시 후보키가 되도록 해야 합니다.
따라서 제3정규형을 만족해도 BCNF를 만족하지 않는 경우가 존재합니다.

### Q6-2. 후보키가 아닌 결정자가 있는 경우 어떤 일이 발생하나요?
후보키가 아닌 결정자가 다른 속성을 결정하게 되면, 데이터 중복이나 무결성 문제가 생길 수 있습니다.
BCNF는 이를 제거하여, 모든 결정자가 고유하게 테이블을 식별할 수 있도록 보장합니다.

<br>

# 🎯 실무 응용 질문
## 🔸 Q7. 정규화된 테이블은 항상 성능이 좋은가요?
답변 예시:

꼭 그렇진 않습니다. 정규화를 많이 하면 조인이 많아져서 조회 성능이 떨어질 수 있습니다.
따라서 시스템의 성격에 따라 **역정규화(denormalization)**를 하기도 합니다.
예를 들어 조회가 많은 테이블에 한해서 일부 컬럼을 중복 저장하기도 합니다.

<br>

## 🔸 Q8. 실제 프로젝트에서 ERD를 어떻게 작성하고 관리했나요?
답변 예시:

저는 Notion이나 Draw.io, DBeaver ERD 도구를 사용해 테이블 구조를 시각화하고, 팀원과 공유했습니다.
기획 단계에서는 관계를 명확히 정의했고, 구현 중에는 ERD를 참고해 DTO와 Entity를 설계했습니다.
변경 사항이 생기면 ERD도 업데이트하여 문서화했습니다.

<br>

## 🔸 Q9. ERD나 정규화를 무시한 프로젝트를 경험한 적 있나요?
답변 예시:

과거 스타트업에서 빠른 개발을 위해 정규화를 덜 한 상태로 DB를 구축한 적 있습니다.
이후 유지보수 시 중복 데이터와 삽입 오류, 갱신 누락 문제가 발생했고, 일부 테이블을 정규화하면서 문제를 해결했습니다.
이 경험을 통해 정규화의 중요성을 체감했습니다.